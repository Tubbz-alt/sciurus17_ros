<launch>
  <group ns="chest_camera_node">
    <!--
    <node pkg="uvc_camera" type="uvc_camera_node" name="chest_camera_node" output="screen">
      <param name="device" value="/dev/chestcamera" />
      <param name="width" value="1280" />
      <param name="height" value="720" />
      <param name="camera_info_url" type="string" value="file://$(find sciurus17_vision)/config/chest_camera.yaml" />
      <param name="format" value="jpeg" />
      <param name="io_method" value="mmap" />
      <param name="camera_name" value="chest_camera" />
      <param name="frame_id" value="chest_camera_link" />
      <param name="output_frame" value="chest_camera_link" />
      <param name="fps" type="int" value="30" />
    </node>
    -->


    <node pkg="libuvc_camera" type="camera_node" name="chest_camera_node" output="screen">
      <!-- Parameters used to find the camera -->
      <param name="vendor" value="0x0458"/>
      <param name="product" value="0x708c"/>
      <!-- <param name="serial" value="/dev/chestcamera"/> -->
      <!-- If the above parameters aren't unique, choose the first match: -->
      <!-- <param name="index" value=""/> -->

      <!-- Image size and type -->
      <param name="width" value="1280"/>
      <param name="height" value="720"/>
      <!-- choose whichever uncompressed format the camera supports: -->
      <param name="video_mode" value="mjpeg"/> <!-- or yuyv/nv12/mjpeg -->
      <param name="frame_rate" value="30"/>

      <param name="timestamp_method" value="start"/> <!-- start of frame -->
      <param name="camera_info_url" value="file:///tmp/cam.yaml"/>

      <param name="frame_id" value="chest_camera_link" />

      <param name="auto_exposure" value="3"/> <!-- use aperture_priority auto exposure -->
      <param name="auto_white_balance" value="false"/>
    </node>   

    <node pkg="image_transport" type="republish" name="transport" args="in_transport in:=image_raw out:=image _image_transport:=compressed" />

    <node pkg="image_proc" type="image_proc" name="image_proc" >
      <remap from="image_raw" to="image" />
    </node>
  </group>
</launch>

